/* ----------------------------------------------------------------------------
**	Unicode <-> X11 keycode translation code
** ----------------------------------------------------------------------------
**
**	Copyright (C)	1999-2000	Steffen Seeger
**
**	$Log: x2unicode.c,v $
**	Revision 1.1  2000/07/04 11:01:52  seeger_s
**	- added PhoeniX DDX stubs and included in build system
**	
**	Revision 1.1  2000/06/25 20:08:08  seeger_s
**	- added input, output and keycode translation code.
**	
*/

struct translation_pair
{
	int key;
	int result;
};

static struct translation_pair x2unicode_tbl[] =
{
	{ 0x000001A1, 0x0104 },
	{ 0x000001A2, 0x02D8 },
	{ 0x000001A3, 0x0141 },
	{ 0x000001A5, 0x013D },
	{ 0x000001A6, 0x015A },
	{ 0x000001A9, 0x0160 },
	{ 0x000001AA, 0x015E },
	{ 0x000001AB, 0x0164 },
	{ 0x000001AC, 0x0179 },
	{ 0x000001AE, 0x017D },
	{ 0x000001AF, 0x017B },
	{ 0x000001B1, 0x0105 },
	{ 0x000001B2, 0x02DB },
	{ 0x000001B3, 0x0142 },
	{ 0x000001B5, 0x013E },
	{ 0x000001B6, 0x015B },
	{ 0x000001B7, 0x02C7 },
	{ 0x000001B9, 0x0161 },
	{ 0x000001BA, 0x015F },
	{ 0x000001BB, 0x0165 },
	{ 0x000001BC, 0x017A },
	{ 0x000001BD, 0x02DD },
	{ 0x000001BE, 0x017E },
	{ 0x000001BF, 0x017C },
	{ 0x000001C0, 0x0154 },
	{ 0x000001C3, 0x0102 },
	{ 0x000001C5, 0x0139 },
	{ 0x000001C6, 0x0106 },
	{ 0x000001C8, 0x010C },
	{ 0x000001CA, 0x0118 },
	{ 0x000001CC, 0x011A },
	{ 0x000001CF, 0x010E },
	{ 0x000001D0, 0x0110 },
	{ 0x000001D1, 0x0143 },
	{ 0x000001D2, 0x0147 },
	{ 0x000001D5, 0x0150 },
	{ 0x000001D8, 0x0158 },
	{ 0x000001D9, 0x016E },
	{ 0x000001DB, 0x0170 },
	{ 0x000001DE, 0x0162 },
	{ 0x000001E0, 0x0155 },
	{ 0x000001E3, 0x0103 },
	{ 0x000001E5, 0x013A },
	{ 0x000001E6, 0x0107 },
	{ 0x000001E8, 0x010D },
	{ 0x000001EA, 0x0119 },
	{ 0x000001EC, 0x011B },
	{ 0x000001EF, 0x010F },
	{ 0x000001F0, 0x0111 },
	{ 0x000001F1, 0x0144 },
	{ 0x000001F2, 0x0148 },
	{ 0x000001F5, 0x0151 },
	{ 0x000001F8, 0x0159 },
	{ 0x000001F9, 0x016F },
	{ 0x000001FB, 0x0171 },
	{ 0x000001FE, 0x0163 },
	{ 0x000001FF, 0x02D9 },
	{ 0x000002A1, 0x0126 },
	{ 0x000002A6, 0x0124 },
	{ 0x000002A9, 0x0130 },
	{ 0x000002AB, 0x011E },
	{ 0x000002AC, 0x0134 },
	{ 0x000002B1, 0x0127 },
	{ 0x000002B6, 0x0125 },
	{ 0x000002B9, 0x0131 },
	{ 0x000002BB, 0x011F },
	{ 0x000002BC, 0x0135 },
	{ 0x000002C5, 0x010A },
	{ 0x000002C6, 0x0108 },
	{ 0x000002D5, 0x0120 },
	{ 0x000002D8, 0x011C },
	{ 0x000002DD, 0x016C },
	{ 0x000002DE, 0x015C },
	{ 0x000002E5, 0x010B },
	{ 0x000002E6, 0x0109 },
	{ 0x000002F5, 0x0121 },
	{ 0x000002F8, 0x011D },
	{ 0x000002FD, 0x016D },
	{ 0x000002FE, 0x015D },
	{ 0x000003A2, 0x0138 },
	{ 0x000003A3, 0x0156 },
	{ 0x000003A5, 0x0128 },
	{ 0x000003A6, 0x013B },
	{ 0x000003AA, 0x0112 },
	{ 0x000003AB, 0x0122 },
	{ 0x000003AC, 0x0166 },
	{ 0x000003B3, 0x0157 },
	{ 0x000003B5, 0x0129 },
	{ 0x000003B6, 0x013C },
	{ 0x000003BA, 0x0113 },
	{ 0x000003BB, 0x0123 },
	{ 0x000003BC, 0x0167 },
	{ 0x000003BD, 0x014A },
	{ 0x000003BF, 0x014B },
	{ 0x000003C0, 0x0100 },
	{ 0x000003C7, 0x012E },
	{ 0x000003CC, 0x0116 },
	{ 0x000003CF, 0x012A },
	{ 0x000003D1, 0x0145 },
	{ 0x000003D2, 0x014C },
	{ 0x000003D3, 0x0136 },
	{ 0x000003D9, 0x0172 },
	{ 0x000003DD, 0x0168 },
	{ 0x000003DE, 0x016A },
	{ 0x000003E0, 0x0101 },
	{ 0x000003E7, 0x012F },
	{ 0x000003EC, 0x0117 },
	{ 0x000003EF, 0x012B },
	{ 0x000003F1, 0x0146 },
	{ 0x000003F2, 0x014D },
	{ 0x000003F3, 0x0137 },
	{ 0x000003F9, 0x0173 },
	{ 0x000003FD, 0x0169 },
	{ 0x000003FE, 0x016B },
	{ 0x000004A5, 0x30FB },
	{ 0x000004A6, 0x30F2 },
	{ 0x000004A7, 0x30A1 },
	{ 0x000004A8, 0x30A3 },
	{ 0x000004A9, 0x30A5 },
	{ 0x000004AA, 0x30A7 },
	{ 0x000004AB, 0x30A9 },
	{ 0x000004AC, 0x30E3 },
	{ 0x000004AD, 0x30E5 },
	{ 0x000004AE, 0x30E7 },
	{ 0x000004AF, 0x30C3 },
	{ 0x000004B0, 0x30FC },
	{ 0x000004B1, 0x30A2 },
	{ 0x000004B2, 0x30A4 },
	{ 0x000004B3, 0x30A6 },
	{ 0x000004B4, 0x30A8 },
	{ 0x000004B5, 0x30AA },
	{ 0x000004B6, 0x30AB },
	{ 0x000004B7, 0x30AD },
	{ 0x000004B8, 0x30AF },
	{ 0x000004B9, 0x30B1 },
	{ 0x000004BA, 0x30B3 },
	{ 0x000004BB, 0x30B5 },
	{ 0x000004BD, 0x30B9 },
	{ 0x000004BE, 0x30BB },
	{ 0x000004BF, 0x30BD },
	{ 0x000004C0, 0x30BF },
	{ 0x000004C1, 0x30C1 },
	{ 0x000004C2, 0x30C4 },
	{ 0x000004C3, 0x30C6 },
	{ 0x000004C4, 0x30C8 },
	{ 0x000004C5, 0x30CA },
	{ 0x000004C6, 0x30CB },
	{ 0x000004C7, 0x30CC },
	{ 0x000004C8, 0x30CD },
	{ 0x000004C9, 0x30CE },
	{ 0x000004CA, 0x30CF },
	{ 0x000004CB, 0x30D2 },
	{ 0x000004CC, 0x30D5 },
	{ 0x000004CD, 0x30D8 },
	{ 0x000004CE, 0x30DB },
	{ 0x000004CF, 0x30DE },
	{ 0x000004D0, 0x30DF },
	{ 0x000004D1, 0x30E0 },
	{ 0x000004D2, 0x30E1 },
	{ 0x000004D3, 0x30E2 },
	{ 0x000004D4, 0x30E4 },
	{ 0x000004D5, 0x30E6 },
	{ 0x000004D6, 0x30E8 },
	{ 0x000004D7, 0x30E9 },
	{ 0x000004D8, 0x30EA },
	{ 0x000004D9, 0x30EB },
	{ 0x000004DA, 0x30EC },
	{ 0x000004DB, 0x30ED },
	{ 0x000004DC, 0x30EF },
	{ 0x000004DD, 0x30F3 },
	{ 0x000004DE, 0x309B },
	{ 0x000004DF, 0x309C },
	{ 0x000005AC, 0x060C },
	{ 0x000005BB, 0x061B },
	{ 0x000005BF, 0x061F },
	{ 0x000005C1, 0x0621 },
	{ 0x000005C2, 0x0622 },
	{ 0x000005C3, 0x0623 },
	{ 0x000005C4, 0x0624 },
	{ 0x000005C5, 0x0625 },
	{ 0x000005C6, 0x0626 },
	{ 0x000005C7, 0x0627 },
	{ 0x000005C8, 0x0628 },
	{ 0x000005C9, 0x0629 },
	{ 0x000005CA, 0x062A },
	{ 0x000005CB, 0x062B },
	{ 0x000005CC, 0x062C },
	{ 0x000005CD, 0x062D },
	{ 0x000005CE, 0x062E },
	{ 0x000005CF, 0x062F },
	{ 0x000005D0, 0x0630 },
	{ 0x000005D1, 0x0631 },
	{ 0x000005D2, 0x0632 },
	{ 0x000005D3, 0x0633 },
	{ 0x000005D4, 0x0634 },
	{ 0x000005D5, 0x0635 },
	{ 0x000005D6, 0x0636 },
	{ 0x000005D7, 0x0637 },
	{ 0x000005D8, 0x0638 },
	{ 0x000005D9, 0x0639 },
	{ 0x000005DA, 0x063A },
	{ 0x000005E0, 0x0640 },
	{ 0x000005E1, 0x0641 },
	{ 0x000005E2, 0x0642 },
	{ 0x000005E3, 0x0643 },
	{ 0x000005E4, 0x0644 },
	{ 0x000005E5, 0x0645 },
	{ 0x000005E6, 0x0646 },
	{ 0x000005E7, 0x0647 },
	{ 0x000005E8, 0x0648 },
	{ 0x000005E9, 0x0649 },
	{ 0x000005EA, 0x064A },
	{ 0x000005EB, 0x064B },
	{ 0x000005EC, 0x064C },
	{ 0x000005ED, 0x064D },
	{ 0x000005EE, 0x064E },
	{ 0x000005EF, 0x064F },
	{ 0x000005F0, 0x0650 },
	{ 0x000005F1, 0x0651 },
	{ 0x000005F2, 0x0652 },
	{ 0x000006A1, 0x0452 },
	{ 0x000006A2, 0x0453 },
	{ 0x000006A3, 0x0451 },
	{ 0x000006A4, 0x0458 },
	{ 0x000006A5, 0x0455 },
	{ 0x000006A6, 0x0456 },
	{ 0x000006A7, 0x0457 },
	{ 0x000006A8, 0x0454 },
	{ 0x000006A9, 0x0459 },
	{ 0x000006AA, 0x045A },
	{ 0x000006AB, 0x045B },
	{ 0x000006AC, 0x045C },
	{ 0x000006AE, 0x045E },
	{ 0x000006AF, 0x045F },
	{ 0x000006B0, 0x2116 },
	{ 0x000006B1, 0x0402 },
	{ 0x000006B2, 0x0403 },
	{ 0x000006B3, 0x042E },
	{ 0x000006B4, 0x0404 },
	{ 0x000006B5, 0x0405 },
	{ 0x000006B6, 0x0406 },
	{ 0x000006B7, 0x0407 },
	{ 0x000006B8, 0x0408 },
	{ 0x000006B9, 0x0409 },
	{ 0x000006BA, 0x040A },
	{ 0x000006BB, 0x040B },
	{ 0x000006BC, 0x040C },
	{ 0x000006BE, 0x040E },
	{ 0x000006BF, 0x040F },
	{ 0x000006C0, 0x044E },
	{ 0x000006C1, 0x0430 },
	{ 0x000006C2, 0x0431 },
	{ 0x000006C3, 0x0446 },
	{ 0x000006C4, 0x0434 },
	{ 0x000006C5, 0x0435 },
	{ 0x000006C6, 0x0444 },
	{ 0x000006C7, 0x0433 },
	{ 0x000006C8, 0x0445 },
	{ 0x000006C9, 0x0438 },
	{ 0x000006CA, 0x0439 },
	{ 0x000006CB, 0x043A },
	{ 0x000006CC, 0x043B },
	{ 0x000006CD, 0x043C },
	{ 0x000006CE, 0x043D },
	{ 0x000006CF, 0x043E },
	{ 0x000006D0, 0x043F },
	{ 0x000006D1, 0x044F },
	{ 0x000006D2, 0x0440 },
	{ 0x000006D3, 0x0441 },
	{ 0x000006D4, 0x0442 },
	{ 0x000006D5, 0x0443 },
	{ 0x000006D6, 0x0436 },
	{ 0x000006D7, 0x0432 },
	{ 0x000006D8, 0x044C },
	{ 0x000006D9, 0x044B },
	{ 0x000006DA, 0x0437 },
	{ 0x000006DB, 0x0448 },
	{ 0x000006DC, 0x044D },
	{ 0x000006DD, 0x0449 },
	{ 0x000006DE, 0x0447 },
	{ 0x000006DF, 0x044A },
	{ 0x000006E0, 0x0401 },
	{ 0x000006E1, 0x0410 },
	{ 0x000006E2, 0x0411 },
	{ 0x000006E3, 0x0426 },
	{ 0x000006E4, 0x0414 },
	{ 0x000006E5, 0x0415 },
	{ 0x000006E6, 0x0424 },
	{ 0x000006E7, 0x0413 },
	{ 0x000006E8, 0x0425 },
	{ 0x000006E9, 0x0418 },
	{ 0x000006EA, 0x0419 },
	{ 0x000006EB, 0x041A },
	{ 0x000006EC, 0x041B },
	{ 0x000006ED, 0x041C },
	{ 0x000006EE, 0x041D },
	{ 0x000006EF, 0x041E },
	{ 0x000006F0, 0x041F },
	{ 0x000006F1, 0x042F },
	{ 0x000006F2, 0x0420 },
	{ 0x000006F3, 0x0421 },
	{ 0x000006F4, 0x0422 },
	{ 0x000006F5, 0x0423 },
	{ 0x000006F6, 0x0416 },
	{ 0x000006F7, 0x0412 },
	{ 0x000006F8, 0x042C },
	{ 0x000006F9, 0x042B },
	{ 0x000006FA, 0x0417 },
	{ 0x000006FB, 0x0428 },
	{ 0x000006FC, 0x042D },
	{ 0x000006FD, 0x0429 },
	{ 0x000006FE, 0x0427 },
	{ 0x000006FF, 0x042A },
	{ 0x000007A1, 0x0386 },
	{ 0x000007A2, 0x0388 },
	{ 0x000007A3, 0x0389 },
	{ 0x000007A4, 0x038A },
	{ 0x000007A5, 0x03AA },
	{ 0x000007A7, 0x038C },
	{ 0x000007A8, 0x038E },
	{ 0x000007A9, 0x03AB },
	{ 0x000007AB, 0x038F },
	{ 0x000007AE, 0x0385 },
	{ 0x000007AF, 0x2015 },
	{ 0x000007B1, 0x03AC },
	{ 0x000007B2, 0x03AD },
	{ 0x000007B3, 0x03AE },
	{ 0x000007B4, 0x03AF },
	{ 0x000007B5, 0x03CA },
	{ 0x000007B6, 0x0390 },
	{ 0x000007B7, 0x03CC },
	{ 0x000007B8, 0x03CD },
	{ 0x000007B9, 0x03CB },
	{ 0x000007BA, 0x03B0 },
	{ 0x000007BB, 0x03CE },
	{ 0x000007C1, 0x0391 },
	{ 0x000007C2, 0x0392 },
	{ 0x000007C3, 0x0393 },
	{ 0x000007C4, 0x0394 },
	{ 0x000007C5, 0x0395 },
	{ 0x000007C6, 0x0396 },
	{ 0x000007C7, 0x0397 },
	{ 0x000007C8, 0x0398 },
	{ 0x000007C9, 0x0399 },
	{ 0x000007CA, 0x039A },
	{ 0x000007CB, 0x039B },
	{ 0x000007CC, 0x039C },
	{ 0x000007CD, 0x039D },
	{ 0x000007CE, 0x039E },
	{ 0x000007CF, 0x039F },
	{ 0x000007D0, 0x03A0 },
	{ 0x000007D1, 0x03A1 },
	{ 0x000007D2, 0x03A3 },
	{ 0x000007D4, 0x03A4 },
	{ 0x000007D5, 0x03A5 },
	{ 0x000007D6, 0x03A6 },
	{ 0x000007D7, 0x03A7 },
	{ 0x000007D8, 0x03A8 },
	{ 0x000007D9, 0x03A9 },
	{ 0x000007E1, 0x03B1 },
	{ 0x000007E2, 0x03B2 },
	{ 0x000007E3, 0x03B3 },
	{ 0x000007E4, 0x03B4 },
	{ 0x000007E5, 0x03B5 },
	{ 0x000007E6, 0x03B6 },
	{ 0x000007E7, 0x03B7 },
	{ 0x000007E8, 0x03B8 },
	{ 0x000007E9, 0x03B9 },
	{ 0x000007EA, 0x03BA },
	{ 0x000007EB, 0x03BB },
	{ 0x000007EC, 0x03BC },
	{ 0x000007ED, 0x03BD },
	{ 0x000007EE, 0x03BE },
	{ 0x000007EF, 0x03BF },
	{ 0x000007F0, 0x03C0 },
	{ 0x000007F1, 0x03C1 },
	{ 0x000007F2, 0x03C2 },
	{ 0x000007F3, 0x03C3 },
	{ 0x000007F4, 0x03C4 },
	{ 0x000007F5, 0x03C5 },
	{ 0x000007F6, 0x03C6 },
	{ 0x000007F7, 0x03C7 },
	{ 0x000007F8, 0x03C8 },
	{ 0x000007F9, 0x03C9 },
	{ 0x00000CDF, 0x2017 },
	{ 0x00000CE0, 0x05D0 },
	{ 0x00000CE1, 0x05D1 },
	{ 0x00000CE2, 0x05D2 },
	{ 0x00000CE3, 0x05D3 },
	{ 0x00000CE4, 0x05D4 },
	{ 0x00000CE5, 0x05D5 },
	{ 0x00000CE6, 0x05D6 },
	{ 0x00000CE7, 0x05D7 },
	{ 0x00000CE8, 0x05D8 },
	{ 0x00000CE9, 0x05D9 },
	{ 0x00000CEA, 0x05DA },
	{ 0x00000CEB, 0x05DB },
	{ 0x00000CEC, 0x05DC },
	{ 0x00000CED, 0x05DD },
	{ 0x00000CEE, 0x05DE },
	{ 0x00000CEF, 0x05DF },
	{ 0x00000CF0, 0x05E0 },
	{ 0x00000CF1, 0x05E1 },
	{ 0x00000CF2, 0x05E2 },
	{ 0x00000CF3, 0x05E3 },
	{ 0x00000CF4, 0x05E4 },
	{ 0x00000CF5, 0x05E5 },
	{ 0x00000CF6, 0x05E6 },
	{ 0x00000CF7, 0x05E7 },
	{ 0x00000CF8, 0x05E8 },
	{ 0x00000CF9, 0x05E9 },
	{ 0x00000CFA, 0x05EA },
	{ 0x0000FE50, 0xF400 },
	{ 0x0000FE51, 0xF401 },
	{ 0x0000FE52, 0xF402 },
	{ 0x0000FE53, 0xF403 },
	{ 0x0000FE57, 0xF404 },
	{ 0x0000FE5B, 0xF405 },
	{ 0x0000FF08, 0x0008 },
	{ 0x0000FF09, 0x0009 },
	{ 0x0000FF0A, 0x000A },
	{ 0x0000FF0D, 0xF201 },
	{ 0x0000FF15, 0xF215 },
	{ 0x0000FF1B, 0x001B },
	{ 0x0000FF51, 0xF601 },
	{ 0x0000FF52, 0xF603 },
	{ 0x0000FF53, 0xF602 },
	{ 0x0000FF54, 0xF600 },
	{ 0x0000FF6B, 0xF205 },
	{ 0x0000FF7F, 0xF208 },
	{ 0x0000FF8D, 0xF30E },
	{ 0x0000FFAA, 0xF30C },
	{ 0x0000FFAB, 0xF30A },
	{ 0x0000FFAD, 0xF30B },
	{ 0x0000FFAF, 0xF30D },
	{ 0x0000FFB0, 0xF300 },
	{ 0x0000FFB1, 0xF301 },
	{ 0x0000FFB2, 0xF302 },
	{ 0x0000FFB3, 0xF303 },
	{ 0x0000FFB4, 0xF304 },
	{ 0x0000FFB5, 0xF305 },
	{ 0x0000FFB6, 0xF306 },
	{ 0x0000FFB7, 0xF307 },
	{ 0x0000FFB8, 0xF308 },
	{ 0x0000FFB9, 0xF309 },
	{ 0x0000FFBE, 0xF100 },
	{ 0x0000FFBF, 0xF101 },
	{ 0x0000FFC0, 0xF102 },
	{ 0x0000FFC1, 0xF103 },
	{ 0x0000FFC2, 0xF104 },
	{ 0x0000FFC3, 0xF105 },
	{ 0x0000FFC4, 0xF106 },
	{ 0x0000FFC5, 0xF107 },
	{ 0x0000FFC6, 0xF108 },
	{ 0x0000FFC7, 0xF109 },
	{ 0x0000FFC8, 0xF10A },
	{ 0x0000FFC9, 0xF10B },
	{ 0x0000FFCA, 0xF10C },
	{ 0x0000FFCB, 0xF10D },
	{ 0x0000FFCC, 0xF10E },
	{ 0x0000FFCD, 0xF10F },
	{ 0x0000FFCE, 0xF110 },
	{ 0x0000FFCF, 0xF111 },
	{ 0x0000FFD0, 0xF112 },
	{ 0x0000FFD1, 0xF113 },
	{ 0x0000FFD2, 0xF11E },
	{ 0x0000FFD3, 0xF11F },
	{ 0x0000FFD4, 0xF120 },
	{ 0x0000FFD5, 0xF121 },
	{ 0x0000FFD6, 0xF122 },
	{ 0x0000FFD7, 0xF123 },
	{ 0x0000FFD8, 0xF124 },
	{ 0x0000FFD9, 0xF125 },
	{ 0x0000FFDA, 0xF126 },
	{ 0x0000FFDB, 0xF127 },
	{ 0x0000FFDC, 0xF128 },
	{ 0x0000FFDD, 0xF129 },
	{ 0x0000FFDE, 0xF12A },
	{ 0x0000FFDF, 0xF12B },
	{ 0x0000FFE0, 0xF12C },
	{ 0x0000FFE1, 0xF700 },
	{ 0x0000FFE3, 0xF702 },
	{ 0x0000FFE5, 0xF207 },
	{ 0x0000FFE7, 0xF701 },
	{ 0x0000FFE9, 0xF703 },
	{ 0x0000FFEB, 0xF704 },
	{ 0x0000FFED, 0xF705 },
	{ 0x0000FFFF, 0x007F },
	{ 0x00FFFFFF, 0xFFFF }
};

static struct translation_pair unicode2x_tbl[] =
{
	{ 0x0100, 0x000003C0 },
	{ 0x0101, 0x000003E0 },
	{ 0x0102, 0x000001C3 },
	{ 0x0103, 0x000001E3 },
	{ 0x0104, 0x000001A1 },
	{ 0x0105, 0x000001B1 },
	{ 0x0106, 0x000001C6 },
	{ 0x0107, 0x000001E6 },
	{ 0x0108, 0x000002C6 },
	{ 0x0109, 0x000002E6 },
	{ 0x010A, 0x000002C5 },
	{ 0x010B, 0x000002E5 },
	{ 0x010C, 0x000001C8 },
	{ 0x010D, 0x000001E8 },
	{ 0x010E, 0x000001CF },
	{ 0x010F, 0x000001EF },
	{ 0x0110, 0x000001D0 },
	{ 0x0111, 0x000001F0 },
	{ 0x0112, 0x000003AA },
	{ 0x0113, 0x000003BA },
	{ 0x0116, 0x000003CC },
	{ 0x0117, 0x000003EC },
	{ 0x0118, 0x000001CA },
	{ 0x0119, 0x000001EA },
	{ 0x011A, 0x000001CC },
	{ 0x011B, 0x000001EC },
	{ 0x011C, 0x000002D8 },
	{ 0x011D, 0x000002F8 },
	{ 0x011E, 0x000002AB },
	{ 0x011F, 0x000002BB },
	{ 0x0120, 0x000002D5 },
	{ 0x0121, 0x000002F5 },
	{ 0x0122, 0x000003AB },
	{ 0x0123, 0x000003BB },
	{ 0x0124, 0x000002A6 },
	{ 0x0125, 0x000002B6 },
	{ 0x0126, 0x000002A1 },
	{ 0x0127, 0x000002B1 },
	{ 0x0128, 0x000003A5 },
	{ 0x0129, 0x000003B5 },
	{ 0x012A, 0x000003CF },
	{ 0x012B, 0x000003EF },
	{ 0x012E, 0x000003C7 },
	{ 0x012F, 0x000003E7 },
	{ 0x0130, 0x000002A9 },
	{ 0x0131, 0x000002B9 },
	{ 0x0134, 0x000002AC },
	{ 0x0135, 0x000002BC },
	{ 0x0136, 0x000003D3 },
	{ 0x0137, 0x000003F3 },
	{ 0x0138, 0x000003A2 },
	{ 0x0139, 0x000001C5 },
	{ 0x013A, 0x000001E5 },
	{ 0x013B, 0x000003A6 },
	{ 0x013C, 0x000003B6 },
	{ 0x013D, 0x000001A5 },
	{ 0x013E, 0x000001B5 },
	{ 0x0141, 0x000001A3 },
	{ 0x0142, 0x000001B3 },
	{ 0x0143, 0x000001D1 },
	{ 0x0144, 0x000001F1 },
	{ 0x0145, 0x000003D1 },
	{ 0x0146, 0x000003F1 },
	{ 0x0147, 0x000001D2 },
	{ 0x0148, 0x000001F2 },
	{ 0x014A, 0x000003BD },
	{ 0x014B, 0x000003BF },
	{ 0x014C, 0x000003D2 },
	{ 0x014D, 0x000003F2 },
	{ 0x0150, 0x000001D5 },
	{ 0x0151, 0x000001F5 },
	{ 0x0154, 0x000001C0 },
	{ 0x0155, 0x000001E0 },
	{ 0x0156, 0x000003A3 },
	{ 0x0157, 0x000003B3 },
	{ 0x0158, 0x000001D8 },
	{ 0x0159, 0x000001F8 },
	{ 0x015A, 0x000001A6 },
	{ 0x015B, 0x000001B6 },
	{ 0x015C, 0x000002DE },
	{ 0x015D, 0x000002FE },
	{ 0x015E, 0x000001AA },
	{ 0x015F, 0x000001BA },
	{ 0x0160, 0x000001A9 },
	{ 0x0161, 0x000001B9 },
	{ 0x0162, 0x000001DE },
	{ 0x0163, 0x000001FE },
	{ 0x0164, 0x000001AB },
	{ 0x0165, 0x000001BB },
	{ 0x0166, 0x000003AC },
	{ 0x0167, 0x000003BC },
	{ 0x0168, 0x000003DD },
	{ 0x0169, 0x000003FD },
	{ 0x016A, 0x000003DE },
	{ 0x016B, 0x000003FE },
	{ 0x016C, 0x000002DD },
	{ 0x016D, 0x000002FD },
	{ 0x016E, 0x000001D9 },
	{ 0x016F, 0x000001F9 },
	{ 0x0170, 0x000001DB },
	{ 0x0171, 0x000001FB },
	{ 0x0172, 0x000003D9 },
	{ 0x0173, 0x000003F9 },
	{ 0x0179, 0x000001AC },
	{ 0x017A, 0x000001BC },
	{ 0x017B, 0x000001AF },
	{ 0x017C, 0x000001BF },
	{ 0x017D, 0x000001AE },
	{ 0x017E, 0x000001BE },
	{ 0x02C7, 0x000001B7 },
	{ 0x02D8, 0x000001A2 },
	{ 0x02D9, 0x000001FF },
	{ 0x02DB, 0x000001B2 },
	{ 0x02DD, 0x000001BD },
	{ 0x0385, 0x000007AE },
	{ 0x0386, 0x000007A1 },
	{ 0x0388, 0x000007A2 },
	{ 0x0389, 0x000007A3 },
	{ 0x038A, 0x000007A4 },
	{ 0x038C, 0x000007A7 },
	{ 0x038E, 0x000007A8 },
	{ 0x038F, 0x000007AB },
	{ 0x0390, 0x000007B6 },
	{ 0x0391, 0x000007C1 },
	{ 0x0392, 0x000007C2 },
	{ 0x0393, 0x000007C3 },
	{ 0x0394, 0x000007C4 },
	{ 0x0395, 0x000007C5 },
	{ 0x0396, 0x000007C6 },
	{ 0x0397, 0x000007C7 },
	{ 0x0398, 0x000007C8 },
	{ 0x0399, 0x000007C9 },
	{ 0x039A, 0x000007CA },
	{ 0x039B, 0x000007CB },
	{ 0x039C, 0x000007CC },
	{ 0x039D, 0x000007CD },
	{ 0x039E, 0x000007CE },
	{ 0x039F, 0x000007CF },
	{ 0x03A0, 0x000007D0 },
	{ 0x03A1, 0x000007D1 },
	{ 0x03A3, 0x000007D2 },
	{ 0x03A4, 0x000007D4 },
	{ 0x03A5, 0x000007D5 },
	{ 0x03A6, 0x000007D6 },
	{ 0x03A7, 0x000007D7 },
	{ 0x03A8, 0x000007D8 },
	{ 0x03A9, 0x000007D9 },
	{ 0x03AA, 0x000007A5 },
	{ 0x03AB, 0x000007A9 },
	{ 0x03AC, 0x000007B1 },
	{ 0x03AD, 0x000007B2 },
	{ 0x03AE, 0x000007B3 },
	{ 0x03AF, 0x000007B4 },
	{ 0x03B0, 0x000007BA },
	{ 0x03B1, 0x000007E1 },
	{ 0x03B2, 0x000007E2 },
	{ 0x03B3, 0x000007E3 },
	{ 0x03B4, 0x000007E4 },
	{ 0x03B5, 0x000007E5 },
	{ 0x03B6, 0x000007E6 },
	{ 0x03B7, 0x000007E7 },
	{ 0x03B8, 0x000007E8 },
	{ 0x03B9, 0x000007E9 },
	{ 0x03BA, 0x000007EA },
	{ 0x03BB, 0x000007EB },
	{ 0x03BC, 0x000007EC },
	{ 0x03BD, 0x000007ED },
	{ 0x03BE, 0x000007EE },
	{ 0x03BF, 0x000007EF },
	{ 0x03C0, 0x000007F0 },
	{ 0x03C1, 0x000007F1 },
	{ 0x03C2, 0x000007F2 },
	{ 0x03C3, 0x000007F3 },
	{ 0x03C4, 0x000007F4 },
	{ 0x03C5, 0x000007F5 },
	{ 0x03C6, 0x000007F6 },
	{ 0x03C7, 0x000007F7 },
	{ 0x03C8, 0x000007F8 },
	{ 0x03C9, 0x000007F9 },
	{ 0x03CA, 0x000007B5 },
	{ 0x03CB, 0x000007B9 },
	{ 0x03CC, 0x000007B7 },
	{ 0x03CD, 0x000007B8 },
	{ 0x03CE, 0x000007BB },
	{ 0x0401, 0x000006E0 },
	{ 0x0402, 0x000006B1 },
	{ 0x0403, 0x000006B2 },
	{ 0x0404, 0x000006B4 },
	{ 0x0405, 0x000006B5 },
	{ 0x0406, 0x000006B6 },
	{ 0x0407, 0x000006B7 },
	{ 0x0408, 0x000006B8 },
	{ 0x0409, 0x000006B9 },
	{ 0x040A, 0x000006BA },
	{ 0x040B, 0x000006BB },
	{ 0x040C, 0x000006BC },
	{ 0x040E, 0x000006BE },
	{ 0x040F, 0x000006BF },
	{ 0x0410, 0x000006E1 },
	{ 0x0411, 0x000006E2 },
	{ 0x0412, 0x000006F7 },
	{ 0x0413, 0x000006E7 },
	{ 0x0414, 0x000006E4 },
	{ 0x0415, 0x000006E5 },
	{ 0x0416, 0x000006F6 },
	{ 0x0417, 0x000006FA },
	{ 0x0418, 0x000006E9 },
	{ 0x0419, 0x000006EA },
	{ 0x041A, 0x000006EB },
	{ 0x041B, 0x000006EC },
	{ 0x041C, 0x000006ED },
	{ 0x041D, 0x000006EE },
	{ 0x041E, 0x000006EF },
	{ 0x041F, 0x000006F0 },
	{ 0x0420, 0x000006F2 },
	{ 0x0421, 0x000006F3 },
	{ 0x0422, 0x000006F4 },
	{ 0x0423, 0x000006F5 },
	{ 0x0424, 0x000006E6 },
	{ 0x0425, 0x000006E8 },
	{ 0x0426, 0x000006E3 },
	{ 0x0427, 0x000006FE },
	{ 0x0428, 0x000006FB },
	{ 0x0429, 0x000006FD },
	{ 0x042A, 0x000006FF },
	{ 0x042B, 0x000006F9 },
	{ 0x042C, 0x000006F8 },
	{ 0x042D, 0x000006FC },
	{ 0x042E, 0x000006B3 },
	{ 0x042F, 0x000006F1 },
	{ 0x0430, 0x000006C1 },
	{ 0x0431, 0x000006C2 },
	{ 0x0432, 0x000006D7 },
	{ 0x0433, 0x000006C7 },
	{ 0x0434, 0x000006C4 },
	{ 0x0435, 0x000006C5 },
	{ 0x0436, 0x000006D6 },
	{ 0x0437, 0x000006DA },
	{ 0x0438, 0x000006C9 },
	{ 0x0439, 0x000006CA },
	{ 0x043A, 0x000006CB },
	{ 0x043B, 0x000006CC },
	{ 0x043C, 0x000006CD },
	{ 0x043D, 0x000006CE },
	{ 0x043E, 0x000006CF },
	{ 0x043F, 0x000006D0 },
	{ 0x0440, 0x000006D2 },
	{ 0x0441, 0x000006D3 },
	{ 0x0442, 0x000006D4 },
	{ 0x0443, 0x000006D5 },
	{ 0x0444, 0x000006C6 },
	{ 0x0445, 0x000006C8 },
	{ 0x0446, 0x000006C3 },
	{ 0x0447, 0x000006DE },
	{ 0x0448, 0x000006DB },
	{ 0x0449, 0x000006DD },
	{ 0x044A, 0x000006DF },
	{ 0x044B, 0x000006D9 },
	{ 0x044C, 0x000006D8 },
	{ 0x044D, 0x000006DC },
	{ 0x044E, 0x000006C0 },
	{ 0x044F, 0x000006D1 },
	{ 0x0451, 0x000006A3 },
	{ 0x0452, 0x000006A1 },
	{ 0x0453, 0x000006A2 },
	{ 0x0454, 0x000006A8 },
	{ 0x0455, 0x000006A5 },
	{ 0x0456, 0x000006A6 },
	{ 0x0457, 0x000006A7 },
	{ 0x0458, 0x000006A4 },
	{ 0x0459, 0x000006A9 },
	{ 0x045A, 0x000006AA },
	{ 0x045B, 0x000006AB },
	{ 0x045C, 0x000006AC },
	{ 0x045E, 0x000006AE },
	{ 0x045F, 0x000006AF },
	{ 0x05D0, 0x00000CE0 },
	{ 0x05D1, 0x00000CE1 },
	{ 0x05D2, 0x00000CE2 },
	{ 0x05D3, 0x00000CE3 },
	{ 0x05D4, 0x00000CE4 },
	{ 0x05D5, 0x00000CE5 },
	{ 0x05D6, 0x00000CE6 },
	{ 0x05D7, 0x00000CE7 },
	{ 0x05D8, 0x00000CE8 },
	{ 0x05D9, 0x00000CE9 },
	{ 0x05DA, 0x00000CEA },
	{ 0x05DB, 0x00000CEB },
	{ 0x05DC, 0x00000CEC },
	{ 0x05DD, 0x00000CED },
	{ 0x05DE, 0x00000CEE },
	{ 0x05DF, 0x00000CEF },
	{ 0x05E0, 0x00000CF0 },
	{ 0x05E1, 0x00000CF1 },
	{ 0x05E2, 0x00000CF2 },
	{ 0x05E3, 0x00000CF3 },
	{ 0x05E4, 0x00000CF4 },
	{ 0x05E5, 0x00000CF5 },
	{ 0x05E6, 0x00000CF6 },
	{ 0x05E7, 0x00000CF7 },
	{ 0x05E8, 0x00000CF8 },
	{ 0x05E9, 0x00000CF9 },
	{ 0x05EA, 0x00000CFA },
	{ 0x060C, 0x000005AC },
	{ 0x061B, 0x000005BB },
	{ 0x061F, 0x000005BF },
	{ 0x0621, 0x000005C1 },
	{ 0x0622, 0x000005C2 },
	{ 0x0623, 0x000005C3 },
	{ 0x0624, 0x000005C4 },
	{ 0x0625, 0x000005C5 },
	{ 0x0626, 0x000005C6 },
	{ 0x0627, 0x000005C7 },
	{ 0x0628, 0x000005C8 },
	{ 0x0629, 0x000005C9 },
	{ 0x062A, 0x000005CA },
	{ 0x062B, 0x000005CB },
	{ 0x062C, 0x000005CC },
	{ 0x062D, 0x000005CD },
	{ 0x062E, 0x000005CE },
	{ 0x062F, 0x000005CF },
	{ 0x0630, 0x000005D0 },
	{ 0x0631, 0x000005D1 },
	{ 0x0632, 0x000005D2 },
	{ 0x0633, 0x000005D3 },
	{ 0x0634, 0x000005D4 },
	{ 0x0635, 0x000005D5 },
	{ 0x0636, 0x000005D6 },
	{ 0x0637, 0x000005D7 },
	{ 0x0638, 0x000005D8 },
	{ 0x0639, 0x000005D9 },
	{ 0x063A, 0x000005DA },
	{ 0x0640, 0x000005E0 },
	{ 0x0641, 0x000005E1 },
	{ 0x0642, 0x000005E2 },
	{ 0x0643, 0x000005E3 },
	{ 0x0644, 0x000005E4 },
	{ 0x0645, 0x000005E5 },
	{ 0x0646, 0x000005E6 },
	{ 0x0647, 0x000005E7 },
	{ 0x0648, 0x000005E8 },
	{ 0x0649, 0x000005E9 },
	{ 0x064A, 0x000005EA },
	{ 0x064B, 0x000005EB },
	{ 0x064C, 0x000005EC },
	{ 0x064D, 0x000005ED },
	{ 0x064E, 0x000005EE },
	{ 0x064F, 0x000005EF },
	{ 0x0650, 0x000005F0 },
	{ 0x0651, 0x000005F1 },
	{ 0x0652, 0x000005F2 },
	{ 0x2015, 0x000007AF },
	{ 0x2017, 0x00000CDF },
	{ 0x2116, 0x000006B0 },
	{ 0x309B, 0x000004DE },
	{ 0x309C, 0x000004DF },
	{ 0x30A1, 0x000004A7 },
	{ 0x30A2, 0x000004B1 },
	{ 0x30A3, 0x000004A8 },
	{ 0x30A4, 0x000004B2 },
	{ 0x30A5, 0x000004A9 },
	{ 0x30A6, 0x000004B3 },
	{ 0x30A7, 0x000004AA },
	{ 0x30A8, 0x000004B4 },
	{ 0x30A9, 0x000004AB },
	{ 0x30AA, 0x000004B5 },
	{ 0x30AB, 0x000004B6 },
	{ 0x30AD, 0x000004B7 },
	{ 0x30AF, 0x000004B8 },
	{ 0x30B1, 0x000004B9 },
	{ 0x30B3, 0x000004BA },
	{ 0x30B5, 0x000004BB },
	{ 0x30B9, 0x000004BD },
	{ 0x30BB, 0x000004BE },
	{ 0x30BD, 0x000004BF },
	{ 0x30BF, 0x000004C0 },
	{ 0x30C1, 0x000004C1 },
	{ 0x30C3, 0x000004AF },
	{ 0x30C4, 0x000004C2 },
	{ 0x30C6, 0x000004C3 },
	{ 0x30C8, 0x000004C4 },
	{ 0x30CA, 0x000004C5 },
	{ 0x30CB, 0x000004C6 },
	{ 0x30CC, 0x000004C7 },
	{ 0x30CD, 0x000004C8 },
	{ 0x30CE, 0x000004C9 },
	{ 0x30CF, 0x000004CA },
	{ 0x30D2, 0x000004CB },
	{ 0x30D5, 0x000004CC },
	{ 0x30D8, 0x000004CD },
	{ 0x30DB, 0x000004CE },
	{ 0x30DE, 0x000004CF },
	{ 0x30DF, 0x000004D0 },
	{ 0x30E0, 0x000004D1 },
	{ 0x30E1, 0x000004D2 },
	{ 0x30E2, 0x000004D3 },
	{ 0x30E3, 0x000004AC },
	{ 0x30E4, 0x000004D4 },
	{ 0x30E5, 0x000004AD },
	{ 0x30E6, 0x000004D5 },
	{ 0x30E7, 0x000004AE },
	{ 0x30E8, 0x000004D6 },
	{ 0x30E9, 0x000004D7 },
	{ 0x30EA, 0x000004D8 },
	{ 0x30EB, 0x000004D9 },
	{ 0x30EC, 0x000004DA },
	{ 0x30ED, 0x000004DB },
	{ 0x30EF, 0x000004DC },
	{ 0x30F2, 0x000004A6 },
	{ 0x30F3, 0x000004DD },
	{ 0x30FB, 0x000004A5 },
	{ 0x30FC, 0x000004B0 },
	{ 0xF100, 0x0000FFBE },
	{ 0xF101, 0x0000FFBF },
	{ 0xF102, 0x0000FFC0 },
	{ 0xF103, 0x0000FFC1 },
	{ 0xF104, 0x0000FFC2 },
	{ 0xF105, 0x0000FFC3 },
	{ 0xF106, 0x0000FFC4 },
	{ 0xF107, 0x0000FFC5 },
	{ 0xF108, 0x0000FFC6 },
	{ 0xF109, 0x0000FFC7 },
	{ 0xF10A, 0x0000FFC8 },
	{ 0xF10B, 0x0000FFC9 },
	{ 0xF10C, 0x0000FFCA },
	{ 0xF10D, 0x0000FFCB },
	{ 0xF10E, 0x0000FFCC },
	{ 0xF10F, 0x0000FFCD },
	{ 0xF110, 0x0000FFCE },
	{ 0xF111, 0x0000FFCF },
	{ 0xF112, 0x0000FFD0 },
	{ 0xF113, 0x0000FFD1 },
	{ 0xF11E, 0x0000FFD2 },
	{ 0xF11F, 0x0000FFD3 },
	{ 0xF120, 0x0000FFD4 },
	{ 0xF121, 0x0000FFD5 },
	{ 0xF122, 0x0000FFD6 },
	{ 0xF123, 0x0000FFD7 },
	{ 0xF124, 0x0000FFD8 },
	{ 0xF125, 0x0000FFD9 },
	{ 0xF126, 0x0000FFDA },
	{ 0xF127, 0x0000FFDB },
	{ 0xF128, 0x0000FFDC },
	{ 0xF129, 0x0000FFDD },
	{ 0xF12A, 0x0000FFDE },
	{ 0xF12B, 0x0000FFDF },
	{ 0xF12C, 0x0000FFE0 },
	{ 0xF201, 0x0000FF0D },
	{ 0xF205, 0x0000FF6B },
	{ 0xF207, 0x0000FFE5 },
	{ 0xF208, 0x0000FF7F },
	{ 0xF215, 0x0000FF15 },
	{ 0xF300, 0x0000FFB0 },
	{ 0xF301, 0x0000FFB1 },
	{ 0xF302, 0x0000FFB2 },
	{ 0xF303, 0x0000FFB3 },
	{ 0xF304, 0x0000FFB4 },
	{ 0xF305, 0x0000FFB5 },
	{ 0xF306, 0x0000FFB6 },
	{ 0xF307, 0x0000FFB7 },
	{ 0xF308, 0x0000FFB8 },
	{ 0xF309, 0x0000FFB9 },
	{ 0xF30A, 0x0000FFAB },
	{ 0xF30B, 0x0000FFAD },
	{ 0xF30C, 0x0000FFAA },
	{ 0xF30D, 0x0000FFAF },
	{ 0xF30E, 0x0000FF8D },
	{ 0xF400, 0x0000FE50 },
	{ 0xF401, 0x0000FE51 },
	{ 0xF402, 0x0000FE52 },
	{ 0xF403, 0x0000FE53 },
	{ 0xF404, 0x0000FE57 },
	{ 0xF405, 0x0000FE5B },
	{ 0xF600, 0x0000FF54 },
	{ 0xF601, 0x0000FF51 },
	{ 0xF602, 0x0000FF53 },
	{ 0xF603, 0x0000FF52 },
	{ 0xF700, 0x0000FFE1 },
	{ 0xF701, 0x0000FFE7 },
	{ 0xF702, 0x0000FFE3 },
	{ 0xF703, 0x0000FFE9 },
	{ 0xF704, 0x0000FFEB },
	{ 0xF705, 0x0000FFED },
	{ 0xFFFF, 0x00FFFFFF }
};



static int do_translation(struct translation_pair *tbl,
	unsigned int tbl_size, int key)
{
	int h, l, m;

	if (key < 0x100) {

		if (unicode2x_tbl == tbl) {

			switch (key) {

			case 0x0008:	return 0x0000FF08;
			case 0x0009:	return 0x0000FF09;
			case 0x000A:	return 0x0000FF0A;
			case 0x001B:	return 0x0000FF1B;
			case 0x007F:	return 0x0000FFFF;

			}
		}
		return key;
	}

	l = 0; h = tbl_size;

	if ((key < tbl[l].key) || (tbl[h].key < key)) {

		return -1;
	}

	do {

		m = (l + h) >> 1;

		if (key == tbl[m].key) {

			return tbl[m].result;

		}

		if (key < tbl[m].key) {

			h = m - 1;

		} else {

			l = m + 1;
		}

	} while (l <= h);

	return -1;
}


int x2unicode(int key)
{
	return do_translation(x2unicode_tbl, sizeof(x2unicode_tbl) /
		sizeof(struct translation_pair) - 1, key);
}

int unicode2x(int key)
{
	return do_translation(unicode2x_tbl, sizeof(unicode2x_tbl) /
		sizeof(struct translation_pair) - 1, key);
}
